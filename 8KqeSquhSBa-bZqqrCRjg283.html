<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Mermaid Diagram</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <div class="mermaid">
        %%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#f0f0f0', 'secondaryColor': '#f0f0f0'}}}%%
graph TB
    subgraph "Mise en Place"
        A["Preparation<br>(Barista)<br><br>• Check inventory<br>• Clean and sanitize workspace<br>• Prepare ingredients as per mise en place checklist<br>• Set up blender, freezer, and chiller<br>• Organize measurement cups and containers<br>• Review SOP book and reference pictures<br>• Ensure Storehub Docket Printer is working"]
        style A fill:#98FB98,stroke:#333,stroke-width:2px
    end
    subgraph "Order Reception & Processing"
        B["Receive & Process Order<br>(Barista)<br><br>• Monitor Storehub Docket Printer<br>• Collect and review order dockets<br>• Prioritize orders based on complexity<br>• Organize workflow for efficient processing<br>• Clarify any special requests if needed"]
        style B fill:#98FB98,stroke:#333,stroke-width:2px
    end
    subgraph "Drink Preparation"
        C["Prepare Drinks<br>(Barista)<br><br>• Read SOP for each drink ordered<br>• Use correct measurement cups for ingredients<br>• Follow proper blending/mixing techniques<br>• Monitor preparation time (aim for <5 minutes)<br>• Use appropriate glassware/cups for each drink<br>• Garnish drinks as per SOP"]
        style C fill:#98FB98,stroke:#333,stroke-width:2px
    end
    subgraph "Quality Check & Finalization"
        D["Quality Check & Finalize<br>(Barista)<br><br>• Compare drinks with reference pictures on freezer top<br>• Ensure correct presentation and garnish<br>• Verify correct glassware is used<br>• Double-check order completeness<br>• Make final adjustments if necessary<br>• Place completed drinks on serving tray<br>• Ring bell to call waiter"]
        style D fill:#98FB98,stroke:#333,stroke-width:2px
    end
    subgraph "Service"
        E["Serve Drinks<br>(Waiter)<br><br>• Respond to Barista's call (bell)<br>• Cross-check drinks with order docket<br>• Deliver drinks to customers promptly<br>• Ensure customer satisfaction<br>• Report any issues to Barista or Supervisor<br>• Mark docket as completed and file in basket"]
        style E fill:#87CEFA,stroke:#333,stroke-width:2px
    end
    subgraph "Reset & Clean"
        F["Reset Station<br>(Barista)<br><br>• Clean and sanitize used equipment<br>• Restock ingredients and supplies<br>• Dispose of waste properly<br>• Wipe down workspace<br>• Update inventory if needed<br>• Prepare station for next order"]
        style F fill:#98FB98,stroke:#333,stroke-width:2px
    end
    subgraph "Periodic Quality Control"
        G["Sample Checks<br>(Supervisor)<br><br>• Conduct random checks on completed orders<br>• Verify adherence to SOPs<br>• Taste test selected drinks<br>• Provide feedback to Barista<br>• Address any recurring issues<br>• Implement improvements as needed"]
        style G fill:#FFA07A,stroke:#333,stroke-width:2px
    end

    A --> B
    B --> C
    C --> D
    D --> E
    E --> F
    F --> B
    G -.-> C
    G -.-> D
    </div>
</body>
</html>